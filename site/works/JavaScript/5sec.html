<!DOCTYPE html> <html lang="ja">
<head>
	<meta charset="utf-8">
	<title>Stop at 5 seconds!</title>
	<link rel="stylesheet" href="http://esashika-portfolio.jp/css/sanitize.css">
	<style>
		html{
			background:rgba(255, 255, 0, 0.1) !important;
		}
		body{
			text-align:center;
			font-size:16px;
		}
		#result{
			font-weight:bold;
			font-size:32px;
			margin:60px auto;
			color:#fe6500;
			text-shadow:0 1px 0 rgba(255,255,255,0.5);
		}
		#btn{
			margin:0 auto;
			width:200px;
			padding:7px;
			color:white;
			border-radius:5px;
			background:#ffaa00;
			box-shadow:0 4px 0 #cc8800;
			cursor:pointer;
		}
		#btn:hover{
			opacity:0.7;
		}
	</style>
</head>

<body>
	<div id="result"></div>
	<div id="btn">START</div>
<script>
	(function(){
		"use strict";
		var isStarted = false;
		var msg = "Stop at 5 seconds!";
		var startTime,
			time;
		
		var result = document.getElementById("result");
		var btn = document.getElementById("btn");
		
		result.innerHTML = msg;
		
		btn.addEventListener("click", function(){
			if(!isStarted){
				isStarted = true;
				this.innerHTML = "STOP";
				startTime = Date.now();
				result.innerHTML = msg;
			}else{
				isStarted =false;
				this.innerHTML = "START";
				time = (Date.now() - startTime) / 1000;
				if (time >= 4.5 && time <= 5.5){
					result.innerHTML = time.toFixed(2) + " seconds! Perfect!!";
				}else if(time < 4.5){
					result.innerHTML = time.toFixed(2) + " seconds. Too fast...";
				}else{
					result.innerHTML = time.toFixed(2) + " seconds. Too late...";
				}
			}
		});
	})();
</script>
</body>
</html>
